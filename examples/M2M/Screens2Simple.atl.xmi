<?xml version="1.0" encoding="ISO-8859-1"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="4:1-55:82" name="Screens2Simple">
    <commentsBefore>-- @path Screens=/ualberta.edu.cs.ssrg.screens.m2m/metamodels/Screens.ecore</commentsBefore>
    <commentsBefore>-- @path Simple=/ualberta.edu.cs.ssrg.screens.m2m/metamodels/ScreenSimple.ecore</commentsBefore>
    <inModels location="5:32-5:44" name="IN" metamodel="/2"/>
    <outModels location="5:8-5:26" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:MatchedRule" location="7:1-20:2" name="Model2Application">
      <outPattern location="10:2-19:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="11:3-19:4" varName="app">
          <type xsi:type="ocl:OclModelElement" location="11:9-11:33" name="Application" model="/4"/>
          <bindings location="12:4-12:42" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="12:12-12:42" name="name">
              <source xsi:type="ocl:OperationCallExp" location="12:12-12:37" operationName="first">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="12:12-12:29" name="application">
                  <source xsi:type="ocl:VariableExp" location="12:12-12:17" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                </source>
              </source>
            </value>
          </bindings>
          <bindings location="13:4-13:48" propertyName="package">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="13:15-13:48" name="package">
              <source xsi:type="ocl:OperationCallExp" location="13:15-13:40" operationName="first">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="13:15-13:32" name="application">
                  <source xsi:type="ocl:VariableExp" location="13:15-13:20" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                </source>
              </source>
            </value>
          </bindings>
          <bindings location="14:4-14:110" propertyName="useCamera">
            <value xsi:type="ocl:OperationCallExp" location="14:17-14:110" operationName="endsWith">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="14:17-14:93" name="camera">
                <source xsi:type="ocl:OperationCallExp" location="14:17-14:86" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="14:17-14:78" name="permission">
                    <source xsi:type="ocl:OperationCallExp" location="14:17-14:67" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="14:17-14:59" name="permisionSection">
                        <source xsi:type="ocl:OperationCallExp" location="14:17-14:42" operationName="first">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="14:17-14:34" name="application">
                            <source xsi:type="ocl:VariableExp" location="14:17-14:22" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                          </source>
                        </source>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="14:103-14:109" stringSymbol="true"/>
            </value>
          </bindings>
          <bindings location="15:4-15:112" propertyName="useGeoLocation">
            <value xsi:type="ocl:OperationCallExp" location="15:22-15:112" operationName="endsWith">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:22-15:95" name="geo">
                <source xsi:type="ocl:OperationCallExp" location="15:22-15:91" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:22-15:83" name="permission">
                    <source xsi:type="ocl:OperationCallExp" location="15:22-15:72" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:22-15:64" name="permisionSection">
                        <source xsi:type="ocl:OperationCallExp" location="15:22-15:47" operationName="first">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:22-15:39" name="application">
                            <source xsi:type="ocl:VariableExp" location="15:22-15:27" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                          </source>
                        </source>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="15:105-15:111" stringSymbol="true"/>
            </value>
          </bindings>
          <bindings location="16:4-16:108" propertyName="useNetwork">
            <value xsi:type="ocl:OperationCallExp" location="16:18-16:108" operationName="endsWith">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:18-16:91" name="net">
                <source xsi:type="ocl:OperationCallExp" location="16:18-16:87" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:18-16:79" name="permission">
                    <source xsi:type="ocl:OperationCallExp" location="16:18-16:68" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:18-16:60" name="permisionSection">
                        <source xsi:type="ocl:OperationCallExp" location="16:18-16:43" operationName="first">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:18-16:35" name="application">
                            <source xsi:type="ocl:VariableExp" location="16:18-16:23" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                          </source>
                        </source>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="16:101-16:107" stringSymbol="true"/>
            </value>
          </bindings>
          <bindings location="17:4-17:112" propertyName="useStorage">
            <value xsi:type="ocl:OperationCallExp" location="17:18-17:112" operationName="endsWith">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="17:18-17:95" name="storage">
                <source xsi:type="ocl:OperationCallExp" location="17:18-17:87" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="17:18-17:79" name="permission">
                    <source xsi:type="ocl:OperationCallExp" location="17:18-17:68" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" location="17:18-17:60" name="permisionSection">
                        <source xsi:type="ocl:OperationCallExp" location="17:18-17:43" operationName="first">
                          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="17:18-17:35" name="application">
                            <source xsi:type="ocl:VariableExp" location="17:18-17:23" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                          </source>
                        </source>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="17:105-17:111" stringSymbol="true"/>
            </value>
          </bindings>
          <bindings location="18:4-18:71" propertyName="screens">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="18:15-18:71" name="screens">
              <source xsi:type="ocl:OperationCallExp" location="18:15-18:63" operationName="first">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="18:15-18:55" name="screensSection">
                  <source xsi:type="ocl:OperationCallExp" location="18:15-18:40" operationName="first">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="18:15-18:32" name="application">
                      <source xsi:type="ocl:VariableExp" location="18:15-18:20" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                    </source>
                  </source>
                </source>
              </source>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="8:2-9:23">
        <elements xsi:type="atl:SimpleInPatternElement" location="9:3-9:23" varName="model" variableExp="/0/@elements.0/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.2/@value/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.3/@value/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.4/@value/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.5/@value/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.0/@outPattern/@elements.0/@bindings.6/@value/@source/@source/@source/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="9:10-9:23" name="Model" model="/3"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="22:1-31:2" name="ComplexScreen2SimpleScreen">
      <outPattern location="25:2-30:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="26:3-30:4" varName="sscreen">
          <type xsi:type="ocl:OclModelElement" location="26:12-26:31" name="Screen" model="/6"/>
          <bindings location="27:4-27:24" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="27:12-27:24" name="name">
              <source xsi:type="ocl:VariableExp" location="27:12-27:19" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="28:4-28:54" propertyName="isMain">
            <value xsi:type="ocl:OperationCallExp" location="28:14-28:54" operationName="endsWith">
              <source xsi:type="ocl:OperationCallExp" location="28:14-28:37" operationName="toString">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="28:14-28:26" name="main">
                  <source xsi:type="ocl:VariableExp" location="28:14-28:21" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="28:47-28:53" stringSymbol="true"/>
            </value>
          </bindings>
          <bindings location="29:4-29:46" propertyName="transitions">
            <value xsi:type="ocl:OperationCallExp" location="29:19-29:46" operationName="getAllTransitions">
              <source xsi:type="ocl:VariableExp" location="29:19-29:26" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="23:2-24:26">
        <elements xsi:type="atl:SimpleInPatternElement" location="24:3-24:26" varName="cscreen" variableExp="/0/@elements.1/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.1/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@source /0/@elements.1/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="24:12-24:26" name="Screen" model="/5"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="33:1-42:2" name="ComplexTransition2SimpleTransition">
      <outPattern location="36:2-41:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="37:3-41:4" varName="strans">
          <type xsi:type="ocl:OclModelElement" location="37:12-37:35" name="Transition" model="/8"/>
          <bindings location="38:4-38:23" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="38:12-38:23" name="name">
              <source xsi:type="ocl:VariableExp" location="38:12-38:18" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="39:4-39:29" propertyName="destination">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="39:19-39:29" name="toS">
              <source xsi:type="ocl:VariableExp" location="39:19-39:25" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="40:4-40:29" propertyName="trigger">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="40:15-40:29" name="trigger">
              <source xsi:type="ocl:VariableExp" location="40:15-40:21" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="34:2-35:30">
        <elements xsi:type="atl:SimpleInPatternElement" location="35:3-35:30" varName="ctrans" variableExp="/0/@elements.2/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.2/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.2/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="35:12-35:30" name="Transition" model="/7"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="44:1-52:2" name="ComplexTrigger2SimpleTrigger">
      <outPattern location="47:2-51:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="48:3-51:4" varName="strigger">
          <type xsi:type="ocl:OclModelElement" location="48:14-48:33" name="Button" model="/10"/>
          <bindings location="49:4-49:25" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="49:12-49:25" name="name">
              <source xsi:type="ocl:VariableExp" location="49:12-49:20" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="50:4-50:59" propertyName="isMenuItem">
            <value xsi:type="ocl:OperationCallExp" location="50:18-50:59" operationName="endsWith">
              <source xsi:type="ocl:OperationCallExp" location="50:18-50:42" operationName="toString">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="50:18-50:31" name="menu">
                  <source xsi:type="ocl:VariableExp" location="50:18-50:26" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="50:52-50:58" stringSymbol="true"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="45:2-46:29">
        <elements xsi:type="atl:SimpleInPatternElement" location="46:3-46:29" varName="ctrigger" variableExp="/0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.3/@outPattern/@elements.0/@bindings.1/@value/@source/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="46:14-46:29" name="Trigger" model="/9"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:Helper" location="54:1-55:82">
      <definition location="54:8-55:81">
        <feature xsi:type="ocl:Operation" location="54:36-55:81" name="getAllTransitions">
          <returnType xsi:type="ocl:SetType" location="54:58-54:81">
            <elementType xsi:type="ocl:OclModelElement" location="54:62-54:80" name="Transition" model="/12"/>
          </returnType>
          <body xsi:type="ocl:IteratorExp" location="55:2-55:81" name="select">
            <source xsi:type="ocl:OperationCallExp" location="55:2-55:35" operationName="allInstances">
              <source xsi:type="ocl:OclModelElement" location="55:2-55:20" name="Transition" model="/13"/>
            </source>
            <body xsi:type="ocl:OperationCallExp" location="55:48-55:80" operationName="endsWith">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="55:48-55:60" name="name">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="55:48-55:55" name="fromS">
                  <source xsi:type="ocl:VariableExp" location="55:48-55:49" referredVariable="/0/@elements.4/@definition/@feature/@body/@iterators.0"/>
                </source>
              </source>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="55:70-55:79" name="name">
                <source xsi:type="ocl:VariableExp" location="55:70-55:74" referredVariable="/14"/>
              </arguments>
            </body>
            <iterators location="55:44-55:45" varName="i" variableExp="/0/@elements.4/@definition/@feature/@body/@body/@source/@source/@source"/>
          </body>
        </feature>
        <context_ location="54:8-54:30">
          <context_ xsi:type="ocl:OclModelElement" location="54:16-54:30" name="Screen" model="/11"/>
        </context_>
      </definition>
    </elements>
  </atl:Module>
  <ocl:OclModel location="5:14-5:26" name="ScreenSimple" model="/0/@outModels.0"/>
  <ocl:OclModel location="5:37-5:44" name="Screens" model="/0/@inModels.0"/>
  <ocl:OclModel location="9:10-9:17" name="Screens" elements="/0/@elements.0/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="11:9-11:21" name="ScreenSimple" elements="/0/@elements.0/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="24:12-24:19" name="Screens" elements="/0/@elements.1/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="26:12-26:24" name="ScreenSimple" elements="/0/@elements.1/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="35:12-35:19" name="Screens" elements="/0/@elements.2/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="37:12-37:24" name="ScreenSimple" elements="/0/@elements.2/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="46:14-46:21" name="Screens" elements="/0/@elements.3/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="48:14-48:26" name="ScreenSimple" elements="/0/@elements.3/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="54:16-54:23" name="Screens" elements="/0/@elements.4/@definition/@context_/@context_"/>
  <ocl:OclModel location="54:62-54:69" name="Screens" elements="/0/@elements.4/@definition/@feature/@returnType/@elementType"/>
  <ocl:OclModel location="55:2-55:9" name="Screens" elements="/0/@elements.4/@definition/@feature/@body/@source/@source"/>
  <ocl:VariableDeclaration location="55:70-55:74" varName="self" variableExp="/0/@elements.4/@definition/@feature/@body/@body/@arguments.0/@source"/>
</xmi:XMI>
